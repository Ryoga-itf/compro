学籍番号: __STUDENT_ID__
氏名: __STUDENT_NAME__
課題番号: 5

演習に用いた環境： 自分の PC

課題 5-1 を実行した結果を以下に示す

$ gcc ex5-1.s lib.s -no-pie && ./a.out
Finished.
rax=0x0000000000404038 (4210744)
rbx=0x0000000000404058 (4210776)
rcx=0x0000000000403e18 (4210200)
rdx=0x00007ffefce8f388 (140733141545864)
rsi=0x00007ffefce8f378 (140733141545848)
rdi=0x0000000000000001 (1)
r8 =0x00007ff4d84cbf10 (140689577656080)
r9 =0x00007ff4d84f2040 (140689577812032)
r10=0x2222222222222221 (2459565876494606881)
r11=0xddde000022213334 (-2459528345925110988)
r12=0x4444444444444443 (4919131752989213763)
r13=0x00ccaaaa88886666 (57608544660776550)
r14=0x0000000000403e18 (4210200)
r15=0x00007ff4d8526040 (140689578025024)
rflags(eflags)=0x00000206
rsp=0x00007ffefce8f248
rbp=0x00007ffefce8f258
rip=0x0000000000401438

課題 5-2 を実行した結果を以下に示す

$ gcc ex5-2.s lib.s -no-pie && ./a.out
Finished.
rax=0x0000000000404038 (4210744)
rbx=0x0000000000404058 (4210776)
rcx=0x0000000000403e18 (4210200)
rdx=0x00007fffc06f5b68 (140736421911400)
rsi=0x00007fffc06f5b58 (140736421911384)
rdi=0x0000000000000001 (1)
r8 =0x00007f31f6f28f10 (139852573216528)
r9 =0x00007f31f6f4f040 (139852573372480)
r10=0x66668888aaaacccc (7378735160053386444)
r11=0x2222222222233333 (2459565876494676787)
r12=0x1110eeeeccccaaab (1229745407677737643)
r13=0x0044444444444444 (19215358410114116)
r14=0x0000000000403e18 (4210200)
r15=0x00007f31f6f83040 (139852573585472)
rflags(eflags)=0x00000202
rsp=0x00007fffc06f5a28
rbp=0x00007fffc06f5a38
rip=0x0000000000401438

課題 5-3 を実行した結果を以下に示す

$ gcc ex5-3.s lib.s -no-pie && ./a.out
Finished.
rax=0x0000000000000011 (17)
rbx=0x0000000000000000 (0)
rcx=0x0000000000403e18 (4210200)
rdx=0x0000000000000000 (0)
rsi=0x00007ffc09edf718 (140720475076376)
rdi=0x0000000000000001 (1)
r8 =0x000000000000003b (59)
r9 =0xffffffffffffffb5 (-75)
r10=0xffffffffffffffe6 (-26)
r11=0x0000000000000011 (17)
r12=0x00007ffc09edf718 (140720475076376)
r13=0x0000000000401136 (4198710)
r14=0x0000000000403e18 (4210200)
r15=0x00007f27a753c040 (139808287735872)
rflags(eflags)=0x00000202
rsp=0x00007ffc09edf5e8
rbp=0x00007ffc09edf5f8
rip=0x0000000000401460

なお、オペランドに関するエラーが発生したため命令には idivq を用いた

課題 5-4

【ア】 and
【イ】 $1

課題 5-5

-17 / 5 の商を r8、剰余を r9 に
-17 / -5 の商を r10、剰余を r11 に
17 / -5 の商を r12、剰余を r13 にするコードを書き実行した。

結果は以下のようになった。

$ gcc ex5-5.s lib.s -no-pie && ./a.out
Finished.
rax=0xfffffffffffffffd (-3)
rbx=0xfffffffffffffffb (-5)
rcx=0x0000000000403e18 (4210200)
rdx=0x0000000000000002 (2)
rsi=0x00007fff20bc4868 (140733742598248)
rdi=0x0000000000000001 (1)
r8 =0xfffffffffffffffd (-3)
r9 =0xfffffffffffffffe (-2)
r10=0x0000000000000003 (3)
r11=0xfffffffffffffffe (-2)
r12=0xfffffffffffffffd (-3)
r13=0x0000000000000002 (2)
r14=0x0000000000403e18 (4210200)
r15=0x00007fbbda58c040 (140444798861376)
rflags(eflags)=0x00000202
rsp=0x00007fff20bc4738
rbp=0x00007fff20bc4748
rip=0x0000000000401457

A / B の剰余結果の符号は A、すなわち被除数の符号と一致する。
また、商の結果は代数的な商から小数部を切り捨てたもの、すなわちゼロ方向への切り捨てがなされた数になると考えられる。
剰余演算を表す記号を A % B とすると、商の結果と剰余の結果は (A / B) * B + (A % B) が A と等しくなるように定義されていると考えられる。
